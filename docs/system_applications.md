# Создание заявок без привязки к клиенту

## Обзор функционала

Система теперь поддерживает создание заявок без привязки к конкретному клиенту и договору. Это полезно для обработки обращений от потенциальных клиентов или для внутренних заявок.

## Как это работает

1. **Системный клиент и договор**: В базе данных создаются специальные записи:
   - Системный клиент: "СИСТЕМНЫЙ КЛИЕНТ (для заявок без договора)"
   - Системный договор: "SYSTEM-001"

2. **Создание заявки**: На странице списка клиентов добавлена кнопка "Создать заявку без клиента"

3. **Хранение контактных данных**: Если при создании заявки указаны ФИО и телефон обратившегося, эти данные сохраняются в комментарии к заявке

## Инструкция по использованию

### Первоначальная настройка

Запустите скрипт для создания системного клиента:
```bash
python create_system_client.py
```

### Создание заявки без клиента

1. Перейдите на страницу "Клиенты"
2. Нажмите кнопку "Создать заявку без клиента" (зеленая кнопка в правом верхнем углу)
3. В открывшемся окне заполните:
   - **ФИО обратившегося** (опционально) - для сохранения контактных данных
   - **Телефон для связи** (опционально) - для обратной связи
   - **Тип заявки** - выберите подходящий тип
   - **Описание проблемы** - подробное описание
   - **Источник заявки** - откуда поступила заявка
   - **Ответственный** - кто будет работать с заявкой

### Отображение в системе

- В списке заявок такие заявки отображаются с меткой "Без клиента"
- Номер договора показывается как "Без договора"
- Если указаны контактные данные, они отображаются под меткой "Без клиента"

## Технические детали

### База данных
- Системный клиент создается с ID, который автоматически генерируется
- Все заявки без клиента привязываются к этому системному клиенту
- Контактные данные хранятся в поле `comment` в специальном формате

### Изменения в коде
1. **create_system_client.py** - скрипт для создания системного клиента
2. **routes.py** - добавлен маршрут `create_general_application`
3. **index.html** - добавлена кнопка и модальное окно
4. **applications.html** - обновлено отображение системных заявок

## Примечания

- Заявки без клиента проходят тот же процесс обработки, что и обычные заявки
- Ответственные получают email-уведомления как обычно
- В отчетах такие заявки помечаются соответствующим образом
